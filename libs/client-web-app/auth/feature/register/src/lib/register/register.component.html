<e-commerce-form-wrapper
  [link]="{ url: '../login', name: 'Zaloguj się!' }"
  title="Stwórz nowe konto!"
  text="Masz już konto?"
  submitButtonLabel="Zarejestruj się"
  (submitEvent)="onRegister()"
>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <input
        pInputText
        id="email"
        [class]="
          registerForm.controls.email.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        autocomplete="off"
        [formControl]="registerForm.controls.email"
      />
      <label for="email">Email</label>
    </div>
    <ng-container *ngIf="registerForm.controls.email.dirty || submitted"
      >To pole jest wymagane</ng-container
    >
  </div>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <p-password
        id="password"
        [class]="
          passwordsControls.password.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        [feedback]="false"
        [toggleMask]="true"
        [formControl]="passwordsControls.password"
      ></p-password>
      <label for="password">Hasło</label>
    </div>
    <ng-container *ngIf="passwordsControls.password.dirty || submitted"
      >Hasło powinno mieć co najmniej 6 znaków</ng-container
    >
  </div>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <p-password
        id="confirm-password"
        [class]="
          passwordsControls.confirmPassword.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        [feedback]="false"
        [toggleMask]="true"
        [formControl]="passwordsControls.confirmPassword"
      ></p-password>
      <label for="confirm-password">Potwierdzenie hasła</label>
    </div>
    <ng-container *ngIf="passwordsControls.confirmPassword.dirty || submitted">
      <small
        class="text-red-500 mt-1"
        *ngIf="passwordsControls.confirmPassword.errors?.['required']"
      >
        To pole jest wymagane
      </small>
      <small
        class="text-red-500 mt-1"
        *ngIf="registerForm.controls.passwords.errors?.['passwordMismatch']"
        >Hasła są różne
      </small>
    </ng-container>
  </div>
</e-commerce-form-wrapper>
