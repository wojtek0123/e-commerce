<e-commerce-form-wrapper
  [link]="{ url: '../sign-in', name: 'Log in' }"
  title="Create a new account!"
  text="Already a member?"
  submitButtonLabel="Register"
  (submitEvent)="onRegister()"
>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <input
        pInputText
        id="email"
        [class]="
          registerForm.controls.email.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        autocomplete="off"
        [formControl]="registerForm.controls.email"
      />
      <label for="email">Email</label>
    </div>
    <ng-container *ngIf="registerForm.controls.email.dirty || submitted">
      <small
        class="text-red-500 mt-1"
        *ngIf="registerForm.controls.email.errors?.['required']"
        >This field is required</small
      >
      <small
        class="text-red-500 mt-1"
        *ngIf="registerForm.controls.email.errors?.['email']"
        >Enter valid email</small
      >
    </ng-container>
  </div>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <p-password
        id="password"
        [class]="
          passwordsControls.password.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        [feedback]="false"
        [toggleMask]="true"
        [formControl]="passwordsControls.password"
      ></p-password>
      <label for="password">Password</label>
    </div>
    <ng-container *ngIf="passwordsControls.password.dirty || submitted">
      <small
        class="text-red-500 mt-1"
        *ngIf="passwordsControls.password.errors?.['minlength']"
        >Password should have at least 6 characters</small
      >
      <small
        class="text-red-500 mt-1"
        *ngIf="passwordsControls.password.errors?.['required']"
        >This field is required</small
      >
    </ng-container>
  </div>
  <div class="flex flex-column w-full">
    <div class="p-float-label">
      <p-password
        id="confirm-password"
        [class]="
          passwordsControls.confirmPassword.invalid && submitted
            ? 'ng-invalid ng-dirty'
            : ''
        "
        [feedback]="false"
        [toggleMask]="true"
        [formControl]="passwordsControls.confirmPassword"
      ></p-password>
      <label for="confirm-password">Confirm password</label>
    </div>
    <ng-container *ngIf="passwordsControls.confirmPassword.dirty || submitted">
      <small
        class="text-red-500 mt-1"
        *ngIf="passwordsControls.confirmPassword.errors?.['required']"
      >
        This field is required
      </small>
      <small
        class="text-red-500 mt-1"
        *ngIf="registerForm.controls.passwords.errors?.['passwordMismatch']"
        >Passwords are different
      </small>
    </ng-container>
  </div>
</e-commerce-form-wrapper>
