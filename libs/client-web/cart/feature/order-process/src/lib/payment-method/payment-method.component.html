<lib-section-wrapper header="Payment method">
  @if (loading()) {
    <p-skeleton width="100%" height="3rem" />
    <p-skeleton width="100%" height="3rem" />
    <p-skeleton width="100%" height="3rem" />
  } @else {
    <button
      libOrderProccessItem
      [isActive]="selectedPaymentMethod() === payments()[0]"
      (click)="selectPaymentMethod(payments()[0])"
    >
      <span class="flex items-center text-lg gap-4">
        <span class="pi pi-credit-card"></span>
        <span>{{ payments()[0] }}</span>
      </span>
      <span class="">Free</span>
    </button>

    @if (selectedPaymentMethod() === debitCard) {
      <lib-credit-card-form />
    }

    <button
      libOrderProccessItem
      [isActive]="selectedPaymentMethod() === payments()[1]"
      (click)="selectPaymentMethod(payments()[1])"
    >
      <span class="flex items-center text-lg gap-4">
        <span class="pi pi-wallet"></span>
        <span>{{ payments()[1] }}</span>
      </span>
      <span class="">Free</span>
    </button>
    @if (selectedPaymentMethod() === sixDigitCode) {
      <lib-six-digit-code-form />
    }
  }
</lib-section-wrapper>
